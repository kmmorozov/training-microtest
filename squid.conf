# Основной конфигурационный файл Squid

# ==============================================================================
# ОБЩИЕ НАСТРОЙКИ
# ==============================================================================

# Порт, на котором Squid будет слушать входящие HTTP-запросы
http_port 3128

# Указывает, что Squid должен работать в качестве прозрачного прокси (если настроено)
# transparent_proxy on

# ==============================================================================
# НАСТРОЙКИ КЭШИРОВАНИЯ
# ==============================================================================

# Директория для хранения кэша.
# cache_dir ufs /var/spool/squid 100 16 256
# ufs - тип кэша, /var/spool/squid - путь, 100 - размер в мегабайтах, 16 - количество первых директорий, 256 - количество поддиректорий

# Максимальный размер объекта, который будет кэшироваться (в килобайтах)
maximum_object_size 10240 KB

# Минимальный размер объекта, который будет кэшироваться (в килобайтах)
minimum_object_size 0 KB

# ==============================================================================
# НАСТРОЙКИ ДОСТУПА (ACL - Access Control List)
# ==============================================================================

# Определяем список разрешенных локальных сетей.
# Замените 192.168.1.0/24 на вашу локальную сеть.
acl localnet src 192.168.1.0/24

# Определяем ACL для блокировки определенного домена.
# Домен, который мы хотим заблокировать.
acl blocked_sites dstdomain rogikopyta.ru

# ==============================================================================
# ПРАВИЛА ДОСТУПА (http_access)
# ==============================================================================

# Разрешаем доступ для локальной сети.
http_access allow localnet

# Запрещаем доступ к сайтам из списка blocked_sites.
http_access deny blocked_sites

# Запрещаем доступ ко всем остальным (по умолчанию).
http_access deny all

# ==============================================================================
# НАСТРОЙКИ ДЛЯ МЕНЕДЖЕРА SQUID (опционально)
# ==============================================================================

# Разрешаем доступ к интерфейсу менеджера Squid только из локальной сети.
http_access allow manager localhost
http_access allow manager localnet
http_access deny manager

# ==============================================================================
# НАСТРОЙКИ ДЛЯ АУТЕНТИФИКАЦИИ (опционально)
# ==============================================================================

# Если вы хотите использовать аутентификацию, раскомментируйте и настройте соответствующую строку.
# auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwd
# auth_param basic realm Squid proxy-cache
# acl authenticated proxy_auth REQUIRED
# http_access allow authenticated
# http_access deny !authenticated

# ==============================================================================
# ДРУГИЕ НАСТРОЙКИ (некоторые примеры)
# ==============================================================================

# Указывает DNS-серверы, которые будет использовать Squid (если не настроены в системе).
# dns_nameserver 8.8.8.8
# dns_nameserver 8.8.4.4

# ==============================================================================
# КОНЕЦ КОНФИГУРАЦИИ
# ==============================================================================
